<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Dynamic To-Do List</title>
  <style>
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      background: linear-gradient(135deg, #1e293b, #0f172a);
      min-height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      color: #e5e7eb;
    }

    .app-container {
      background: #020617;
      padding: 24px 22px 20px;
      border-radius: 18px;
      width: 100%;
      max-width: 420px;
      box-shadow: 0 18px 40px rgba(0, 0, 0, 0.45);
      border: 1px solid rgba(148, 163, 184, 0.25);
    }

    .app-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 18px;
    }

    .app-header h1 {
      font-size: 1.3rem;
      font-weight: 700;
      letter-spacing: 0.02em;
    }

    .badge {
      font-size: 0.7rem;
      padding: 4px 8px;
      border-radius: 999px;
      background: rgba(56, 189, 248, 0.08);
      color: #38bdf8;
      border: 1px solid rgba(56, 189, 248, 0.35);
    }

    .input-row {
      display: flex;
      gap: 8px;
      margin-bottom: 10px;
    }

    .input-row input[type="text"] {
      flex: 1;
      padding: 9px 10px;
      border-radius: 12px;
      border: 1px solid #1f2933;
      background: #020617;
      color: #e5e7eb;
      font-size: 0.9rem;
      outline: none;
    }

    .input-row input[type="text"]::placeholder {
      color: #64748b;
      font-size: 0.85rem;
    }

    .input-row button {
      padding: 9px 14px;
      border-radius: 12px;
      border: none;
      background: linear-gradient(135deg, #22c55e, #16a34a);
      color: #f9fafb;
      font-weight: 600;
      font-size: 0.9rem;
      cursor: pointer;
      white-space: nowrap;
      transition: transform 0.1s ease, box-shadow 0.1s ease, opacity 0.1s ease;
    }

    .input-row button:hover {
      transform: translateY(-1px);
      box-shadow: 0 8px 18px rgba(34, 197, 94, 0.45);
      opacity: 0.95;
    }

    .helper-text {
      font-size: 0.72rem;
      color: #9ca3af;
      margin-bottom: 12px;
    }

    .filters {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 10px;
      gap: 8px;
      font-size: 0.75rem;
    }

    .filter-buttons {
      display: flex;
      gap: 6px;
    }

    .filter-buttons button {
      border-radius: 999px;
      padding: 4px 10px;
      border: 1px solid transparent;
      background: transparent;
      color: #9ca3af;
      font-size: 0.74rem;
      cursor: pointer;
      transition: 0.15s;
    }

    .filter-buttons button.active {
      background: rgba(59, 130, 246, 0.15);
      border-color: rgba(59, 130, 246, 0.65);
      color: #bfdbfe;
    }

    .filter-buttons button:hover {
      background: rgba(148, 163, 184, 0.15);
    }

    .task-count {
      color: #9ca3af;
    }

    ul {
      list-style: none;
      max-height: 260px;
      overflow-y: auto;
      padding-right: 4px;
    }

    .task-item {
      display: flex;
      align-items: center;
      gap: 8px;
      padding: 8px 10px;
      margin-bottom: 6px;
      border-radius: 12px;
      background: #020617;
      border: 1px solid rgba(31, 41, 55, 0.9);
      transition: background 0.15s, border-color 0.15s, transform 0.1s ease;
    }

    .task-item:hover {
      background: #020815;
      border-color: rgba(148, 163, 184, 0.35);
      transform: translateY(-1px);
    }

    .task-item.completed {
      opacity: 0.7;
      background: #020617;
      border-style: dashed;
    }

    .task-item input[type="checkbox"] {
      accent-color: #4ade80;
      width: 15px;
      height: 15px;
      cursor: pointer;
    }

    .task-text {
      flex: 1;
      font-size: 0.9rem;
      word-break: break-word;
    }

    .task-item.completed .task-text {
      text-decoration: line-through;
      color: #6b7280;
    }

    .task-actions {
      display: flex;
      gap: 4px;
    }

    .icon-btn {
      border: none;
      background: #020617;
      border-radius: 999px;
      width: 22px;
      height: 22px;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      color: #9ca3af;
      font-size: 0.75rem;
      cursor: pointer;
      transition: background 0.15s, color 0.15s;
    }

    .icon-btn.edit:hover {
      background: rgba(56, 189, 248, 0.16);
      color: #7dd3fc;
    }

    .icon-btn.delete:hover {
      background: rgba(248, 113, 113, 0.16);
      color: #fecaca;
    }

    .empty-state {
      text-align: center;
      font-size: 0.8rem;
      color: #6b7280;
      padding: 14px 4px 2px;
    }

    @media (max-width: 480px) {
      .app-container {
        margin: 16px;
        padding: 20px 18px 18px;
      }
      .app-header h1 {
        font-size: 1.1rem;
      }
    }
  </style>
</head>
<body>
  <div class="app-container">
    <div class="app-header">
      <h1>Dynamic To-Do List</h1>
      <span class="badge">JS Hands-on</span>
    </div>

    <div class="input-row">
      <input
        type="text"
        id="taskInput"
        placeholder="Add a new task (e.g., Study JS closures)"
      />
      <button id="addTaskBtn">Add</button>
    </div>

    <p class="helper-text">
      Press <strong>Enter</strong> to add quickly. Click items to manage them in real time.
    </p>

    <div class="filters">
      <div class="filter-buttons">
        <button class="active" data-filter="all">All</button>
        <button data-filter="active">Active</button>
        <button data-filter="completed">Completed</button>
      </div>
      <span class="task-count" id="taskCount">0 tasks</span>
    </div>

    <ul id="taskList"></ul>
    <p class="empty-state" id="emptyState">No tasks yet. Add your first one üöÄ</p>
  </div>

  <script>
    const taskInput = document.getElementById("taskInput");
    const addTaskBtn = document.getElementById("addTaskBtn");
    const taskList = document.getElementById("taskList");
    const taskCount = document.getElementById("taskCount");
    const emptyState = document.getElementById("emptyState");
    const filterButtons = document.querySelectorAll(".filter-buttons button");

    let tasks = [];
    let currentFilter = "all";

    // Add task
    const addTask = () => {
      const text = taskInput.value.trim();
      if (!text) return;

      const newTask = {
        id: Date.now(),
        text,
        completed: false
      };

      tasks = [newTask, ...tasks]; // newest first
      taskInput.value = "";
      renderTasks();
    };

    addTaskBtn.addEventListener("click", addTask);

    taskInput.addEventListener("keydown", (e) => {
      if (e.key === "Enter") addTask();
    });

    // Handle filter change
    filterButtons.forEach((btn) => {
      btn.addEventListener("click", () => {
        filterButtons.forEach((b) => b.classList.remove("active"));
        btn.classList.add("active");
        currentFilter = btn.getAttribute("data-filter");
        renderTasks();
      });
    });

    // Toggle completion
    const toggleTask = (id) => {
      tasks = tasks.map((task) =>
        task.id === id ? { ...task, completed: !task.completed } : task
      );
      renderTasks();
    };

    // Delete task
    const deleteTask = (id) => {
      tasks = tasks.filter((task) => task.id !== id);
      renderTasks();
    };

    // Edit task text (prompt for simplicity)
    const editTask = (id) => {
      const task = tasks.find((t) => t.id === id);
      if (!task) return;
      const updatedText = prompt("Edit task:", task.text);
      if (updatedText === null) return; // cancelled
      const trimmed = updatedText.trim();
      if (!trimmed) return;
      tasks = tasks.map((t) =>
        t.id === id ? { ...t, text: trimmed } : t
      );
      renderTasks();
    };

    // Render tasks based on filter
    const renderTasks = () => {
      taskList.innerHTML = "";

      const filteredTasks = tasks.filter((task) => {
        if (currentFilter === "active") return !task.completed;
        if (currentFilter === "completed") return task.completed;
        return true; // all
      });

      filteredTasks.forEach((task) => {
        const li = document.createElement("li");
        li.className = "task-item" + (task.completed ? " completed" : "");
        li.innerHTML = `
          <input type="checkbox" ${task.completed ? "checked" : ""} />
          <span class="task-text">${task.text}</span>
          <div class="task-actions">
            <button class="icon-btn edit" title="Edit">‚úèÔ∏è</button>
            <button class="icon-btn delete" title="Delete">üóëÔ∏è</button>
          </div>
        `;

        const checkbox = li.querySelector('input[type="checkbox"]');
        const editBtn = li.querySelector(".icon-btn.edit");
        const deleteBtn = li.querySelector(".icon-btn.delete");

        checkbox.addEventListener("change", () => toggleTask(task.id));
        editBtn.addEventListener("click", () => editTask(task.id));
        deleteBtn.addEventListener("click", () => deleteTask(task.id));

        taskList.appendChild(li);
      });

      // Update count + empty state
      const total = tasks.length;
      const activeCount = tasks.filter((t) => !t.completed).length;

      taskCount.textContent =
        total === 0
          ? "0 tasks"
          : `${activeCount} active ¬∑ ${total} total`;

      emptyState.style.display = filteredTasks.length === 0 ? "block" : "none";
    };

    // Initial render
    renderTasks();
  </script>
</body>
</html>
